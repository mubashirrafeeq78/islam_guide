          cat <<EOF > lib/main.dart
          import 'package:flutter/material.dart';
          import 'package:flutter/services.dart';
          import 'package:webview_flutter/webview_flutter.dart';
          import 'package:http/http.dart' as http;

          void main() => runApp(const MaterialApp(home: SafeArea(child: AppBody()), debugShowCheckedModeBanner: false));

          class AppBody extends StatefulWidget {
            const AppBody({super.key});
            @override State<AppBody> createState() => _AppBodyState();
          }

          class _AppBodyState extends State<AppBody> {
            late final WebViewController controller;
            bool isLoading = true;
            // فوری لوڈنگ کے لیے آپ کا موجودہ لنک
            String currentUrl = 'https://lightslategray-pheasant-815893.hostingersite.com/dashboard.php';

            @override
            void initState() {
              super.initState();
              _initController();
              _updateLinkSilently(); // خاموشی سے بیک گراؤنڈ میں نیا لنک چیک کرے گا
            }

            void _initController() {
              controller = WebViewController()
                ..setJavaScriptMode(JavaScriptMode.unrestricted)
                ..setNavigationDelegate(NavigationDelegate(
                  onPageStarted: (url) => setState(() => isLoading = true),
                  onPageFinished: (url) => setState(() => isLoading = false),
                ))
                ..loadRequest(Uri.parse(currentUrl));
            }

            // یہ فنکشن ایپ کی اسپیڈ کو متاثر کیے بغیر ڈومین اپڈیٹ کرے گا
            Future<void> _updateLinkSilently() async {
              try {
                final response = await http.get(Uri.parse('https://raw.githubusercontent.com/mubashirrafeeq78/islam_guide/main/app_config.txt')).timeout(const Duration(seconds: 5));
                if (response.statusCode == 200) {
                  String newUrl = response.body.trim();
                  if (newUrl != currentUrl && newUrl.startsWith('http')) {
                    controller.loadRequest(Uri.parse(newUrl));
                  }
                }
              } catch (e) {
                // اگر نیٹ سست ہے یا گٹ ہب ڈاؤن ہے، تو ایپ پرانے لنک پر چلتی رہے گی
              }
            }

            @override
            Widget build(BuildContext context) {
              return PopScope(
                canPop: false,
                onPopInvoked: (didPop) async {
                  if (didPop) return;
                  final String? url = await controller.currentUrl();
                  if (url != null && url.contains('dashboard.php')) {
                    SystemChannels.platform.invokeMethod('SystemNavigator.pop');
                  } else if (await controller.canGoBack()) {
                    controller.goBack();
                  } else {
                    SystemChannels.platform.invokeMethod('SystemNavigator.pop');
                  }
                },
                child: Scaffold(
                  backgroundColor: Colors.white,
                  body: Stack(
                    children: [
                      WebViewWidget(controller: controller),
                      if (isLoading) const Center(child: CircularProgressIndicator(color: Colors.green)),
                    ],
                  ),
                ),
              );
            }
          }
          EOF
